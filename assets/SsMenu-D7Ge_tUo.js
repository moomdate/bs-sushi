import{j as a}from"./jsx-runtime-CkxqCPlQ.js";import{r as l}from"./index-DJO9vBfz.js";import{S as M}from"./SsIcon-C8wfcyLa.js";const y=({testid:e,children:n,className:s,onClick:r,active:d=!1,path:i,onNavigate:o})=>i===""||i==null?a.jsx("li",{"data-testid":e,children:a.jsx("div",{className:"header",children:n})}):a.jsx("li",{"data-testid":e,className:`${d?"selected":""} ${s}`,onClick:r,children:a.jsx("a",{onClick:()=>{o&&o(i)},children:n})});y.__docgenInfo={description:"",methods:[],displayName:"SsMenuItem",props:{onNavigate:{required:!1,tsType:{name:"signature",type:"function",raw:"(link: string) => void",signature:{arguments:[{type:{name:"string"},name:"link"}],return:{name:"void"}}},description:""},testid:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},path:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},active:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const v=()=>a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M10 8C10 9.10457 9.10457 10 8 10C6.89543 10 6 9.10457 6 8C6 6.89543 6.89543 6 8 6C9.10457 6 10 6.89543 10 8Z",fill:"#212121"})});v.__docgenInfo={description:"",methods:[],displayName:"DotIcon"};const f=l.createContext(void 0),E=()=>{const e=l.useContext(f);if(!e)throw new Error("useSsPermissions must be used within a SsPermissionsProvider");return e.permissions},P=()=>{const e=l.useContext(f);if(!e)throw new Error("useCurrentEnv must be used within a SsPermissionsProvider");return e.currentEnv},k=({currentEnv:e,permissions:n,children:s})=>{const r={currentEnv:e,permissions:n};return a.jsx(f.Provider,{value:r,children:s})};k.__docgenInfo={description:"",methods:[],displayName:"SsPermissionsProvider",props:{currentEnv:{required:!0,tsType:{name:"string"},description:""},permissions:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""},children:{required:!1,tsType:{name:"union",raw:"ReactNode | undefined",elements:[{name:"ReactNode"},{name:"undefined"}]},description:""}}};function m(e,n){if("AND"in n)return n.AND.every(r=>m(e,r));if("OR"in n)return n.OR.some(r=>m(e,r));const s=j(e,n.key);return Array.isArray(s)?s.includes(n.value):s===n.value}function j(e,n){return n.split(".").reduce((s,r)=>s&&s[r],e)}const I=(e,n,s,r)=>s?s.test(n):(r&&(n=n.replace(r,"")),e===n||`/${e}`===n),b=e=>e,_=e=>a.jsx(M,{name:e?"Minimize-arrow":"Maximize-arrow"}),x=({menu:e,expanded:n,onExpandChange:s,renderIcon:r=b,renderExpandIcon:d=_,menuItemClassName:i="",currentPath:o="",defaultExpand:u=!1,onNavigate:w,appPrefix:T=""})=>{const[N,h]=l.useState(u),p=n!==void 0?n:N,q=E(),R=P(),C=()=>{const t=!p;h(t),s&&s(t)},g=(t,c=!1)=>!(t.containsField?m(q,t.containsField):!0)||t.envs&&!t.envs.includes(R)?null:a.jsxs(y,{path:t.link,className:i,onClick:c?void 0:C,active:I(t.link,o,t.matchRoute,T),onNavigate:w,children:[c?a.jsx(v,{}):r(t.icon),a.jsx("span",{className:"label",style:{fontSize:"13px",fontWeight:"500"},children:t.display||"Â "}),t.child&&d(p)]},`menu-item-${t.id}`),S=t=>p&&t.map(c=>g(c,!0));return a.jsxs(a.Fragment,{children:[g(e),e.child&&S(e.child)]})};x.__docgenInfo={description:"",methods:[],displayName:"SsMenuList",props:{onNavigate:{required:!1,tsType:{name:"signature",type:"function",raw:"(link: string) => void",signature:{arguments:[{type:{name:"string"},name:"link"}],return:{name:"void"}}},description:""},testid:{required:!1,tsType:{name:"string"},description:""},appPrefix:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},menu:{required:!0,tsType:{name:"IMenuConfig",elements:[{name:"T"}],raw:"IMenuConfig<T>"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onExpandChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""},renderIcon:{required:!1,tsType:{name:"signature",type:"function",raw:"(icon: ReactNode) => React.ReactNode",signature:{arguments:[{type:{name:"ReactNode"},name:"icon"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"",defaultValue:{value:"(icon: ReactNode) => icon",computed:!1}},renderExpandIcon:{required:!1,tsType:{name:"signature",type:"function",raw:"(expand: boolean) => React.ReactNode",signature:{arguments:[{type:{name:"boolean"},name:"expand"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"",defaultValue:{value:`(expand: boolean) => (
    <SsIcon name={expand ? "Minimize-arrow" : "Maximize-arrow"}/>
)`,computed:!1}},menuItemClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},currentPath:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},defaultExpand:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const V=({testid:e,menus:n,...s})=>{const r=(i,o)=>!o||!i?!1:!!i.map(u=>u.link).find(u=>u===o),d=n.map(i=>l.createElement(x,{defaultExpand:r(i.child,s.currentPath),menu:i,...s,key:"ss-menu"+i.id}));return a.jsx("ul",{"data-testid":e||"ss-menu",className:"ss-menu",children:d})};V.__docgenInfo={description:"",methods:[],displayName:"SsMenu",props:{onNavigate:{required:!1,tsType:{name:"signature",type:"function",raw:"(link: string) => void",signature:{arguments:[{type:{name:"string"},name:"link"}],return:{name:"void"}}},description:""},testid:{required:!1,tsType:{name:"string"},description:""},appPrefix:{required:!1,tsType:{name:"string"},description:""},menus:{required:!0,tsType:{name:"Array",elements:[{name:"IMenuConfig",elements:[{name:"T"}],raw:"IMenuConfig<T>"}],raw:"IMenuConfig<T>[]"},description:""},currentPath:{required:!1,tsType:{name:"string"},description:""},defaultExpand:{required:!1,tsType:{name:"boolean"},description:""}}};export{k as S,V as a};
